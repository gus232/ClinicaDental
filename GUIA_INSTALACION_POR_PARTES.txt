================================================================================
üîß INSTALACI√ìN DE STORED PROCEDURES POR PARTES
================================================================================

Debido a que el archivo completo dio problemas, vamos a instalar cada 
procedure por separado. Es M√ÅS LENTO pero 100% SEGURO.

================================================================================
üìã PROCEDIMIENTO COMPLETO
================================================================================

PASO 1: Abre phpMyAdmin
   ‚Üí http://localhost/phpmyadmin

PASO 2: Selecciona la base de datos "hms_v2" en el panel izquierdo

PASO 3: Haz clic en la pesta√±a "SQL" arriba

================================================================================

AHORA VAS A EJECUTAR 3 ARCHIVOS, UNO POR UNO:

================================================================================
üìÑ ARCHIVO 1: SP_01_create_user_with_audit.sql
================================================================================

1. Abre el archivo: SP_01_create_user_with_audit.sql
2. Selecciona TODO (Ctrl+A)
3. Copia (Ctrl+C)
4. Pega en phpMyAdmin (Ctrl+V)
5. Presiona "Continuar" / "Go"
6. Deber√≠as ver: ‚úÖ "Procedure create_user_with_audit instalado correctamente"

================================================================================
üìÑ ARCHIVO 2: SP_02_update_user_with_history.sql
================================================================================

1. LIMPIA el cuadro de texto en phpMyAdmin (borra todo)
2. Abre el archivo: SP_02_update_user_with_history.sql
3. Selecciona TODO (Ctrl+A)
4. Copia (Ctrl+C)
5. Pega en phpMyAdmin (Ctrl+V)
6. Presiona "Continuar" / "Go"
7. Deber√≠as ver: ‚úÖ "Procedure update_user_with_history instalado correctamente"

================================================================================
üìÑ ARCHIVO 3: SP_03_search_users.sql (OPCIONAL)
================================================================================

Este ya fue instalado correctamente, pero si quieres asegurarte:

1. LIMPIA el cuadro de texto en phpMyAdmin
2. Abre el archivo: SP_03_search_users.sql
3. Selecciona TODO (Ctrl+A)
4. Copia (Ctrl+C)
5. Pega en phpMyAdmin (Ctrl+V)
6. Presiona "Continuar" / "Go"
7. Deber√≠as ver: ‚úÖ "Procedure search_users instalado correctamente"

================================================================================
‚úÖ VERIFICACI√ìN FINAL
================================================================================

Despu√©s de instalar los 3 procedures, ejecuta esta consulta en phpMyAdmin:

   SELECT ROUTINE_NAME 
   FROM INFORMATION_SCHEMA.ROUTINES 
   WHERE ROUTINE_SCHEMA = 'hms_v2' 
   AND ROUTINE_NAME IN ('create_user_with_audit', 'update_user_with_history', 'search_users');

Deber√≠as ver 3 resultados:
   ‚úì create_user_with_audit
   ‚úì update_user_with_history
   ‚úì search_users

================================================================================
üéØ PRUEBA TU SISTEMA
================================================================================

Ve a: http://localhost/hospital/hms/admin/manage-users.php

Intenta:
   ‚úì Crear un nuevo usuario
   ‚úì Modificar un usuario existente
   ‚úì Eliminar un usuario

¬°El error deber√≠a haber desaparecido!

================================================================================
‚ùì SI TIENES PROBLEMAS
================================================================================

1. Aseg√∫rate de ejecutar los archivos EN ORDEN (1, 2, 3)
2. Limpia el cuadro de texto entre cada archivo
3. Espera a que termine cada ejecuci√≥n antes de continuar
4. Si ves errores de sintaxis, copia EXACTAMENTE desde el archivo
5. No agregues ni quites espacios, saltos de l√≠nea o caracteres

================================================================================
